# ğŸš€ GitHub Actions Workflows

Dá»± Ã¡n nÃ y sá»­ dá»¥ng GitHub Actions Ä‘á»ƒ tá»± Ä‘á»™ng hÃ³a viá»‡c testing, kiá»ƒm tra code quality vÃ  deployment. DÆ°á»›i Ä‘Ã¢y lÃ  mÃ´ táº£ chi tiáº¿t vá» cÃ¡c workflow:

## ğŸ“‹ Danh sÃ¡ch Workflows

### 1. ğŸ§ª `tests.yml` - Continuous Integration
**Trigger:** Má»—i push vÃ  pull request tá»›i `main` hoáº·c `develop`

**Chá»©c nÄƒng:**
- âœ… Cháº¡y Unit Tests (PHPUnit)
- âœ… Cháº¡y Feature Tests (PHPUnit) 
- âœ… Táº¡o bÃ¡o cÃ¡o coverage
- âœ… Kiá»ƒm tra code style (Laravel Pint)
- âœ… Security audit
- âœ… Test matrix vá»›i PHP 8.2 vÃ  8.3

### 2. ğŸ” `code-quality.yml` - Code Quality Checks
**Trigger:** Má»—i push vÃ  pull request tá»›i `main` hoáº·c `develop`

**Chá»©c nÄƒng:**
- ğŸ¨ Code style checking (Laravel Pint)
- ğŸ“ Static analysis (PHPStan)
- ğŸ” Security vulnerabilities scan
- ğŸ“Š Code quality metrics (PHP Insights)

### 3. ğŸš€ `deploy.yml` - Production Deployment
**Trigger:** Push tá»›i branch `main`

**Chá»©c nÄƒng:**
- ğŸ§ª Cháº¡y toÃ n bá»™ test suite trÆ°á»›c khi deploy
- ğŸ“¦ Build production assets
- ğŸš€ Deploy qua FTP tá»›i production server
- âœ… Chá»‰ deploy khi táº¥t cáº£ tests PASS

## ğŸ”§ Cáº¥u hÃ¬nh Requirements

### Secrets cáº§n thiáº¿t:
```
FTP_HOST=your-ftp-host.com
FTP_PORT=21
FTP_USERNAME=your-username
FTP_PASSWORD=your-password
```

### Environment Variables:
```
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
```

## ğŸ“Š Test Coverage

CÃ¡c test Ä‘Æ°á»£c chia thÃ nh 2 test suites:

### Unit Tests
- `SupabaseServiceTest` - 10 tests
- `UserModelTest` - 12 tests  
- `ValidationTest` - 11 tests

### Feature Tests
- `AuthControllerTest` - 6 tests
- `SupabaseUserControllerTest` - 8 tests
- `CourseControllerTest` - 10 tests
- `GameControllerTest` - 8 tests
- `RouteTest` - 6 tests

## ğŸš¦ Workflow Status

| Workflow | Status | Description |
|----------|--------|-------------|
| Tests | ![Tests](https://github.com/your-username/your-repo/workflows/ğŸ§ª%20Run%20Tests/badge.svg) | Unit & Feature Tests |
| Code Quality | ![Code Quality](https://github.com/your-username/your-repo/workflows/ğŸ”%20Code%20Quality/badge.svg) | Code Standards |
| Deploy | ![Deploy](https://github.com/your-username/your-repo/workflows/ğŸš€%20Deploy%20Laravel%20to%20FTP/badge.svg) | Production Deployment |

## ğŸ“ˆ Best Practices

### Äá»ƒ Ä‘áº£m báº£o CI/CD hoáº¡t Ä‘á»™ng tá»‘t:

1. **Viáº¿t tests cho má»i feature má»›i**
   ```bash
   php artisan test --testsuite=Unit
   php artisan test --testsuite=Feature
   ```

2. **Kiá»ƒm tra code style trÆ°á»›c khi commit**
   ```bash
   ./vendor/bin/pint --test
   ```

3. **Cháº¡y security audit Ä‘á»‹nh ká»³**
   ```bash
   composer audit
   ```

4. **Äáº£m báº£o test coverage â‰¥ 80%**
   ```bash
   php artisan test --coverage-text
   ```

## ğŸ› Troubleshooting

### Tests fail?
- Kiá»ƒm tra log trong GitHub Actions
- Cháº¡y tests locally: `php artisan test`
- Äáº£m báº£o `.env.example` cÃ³ Ä‘áº§y Ä‘á»§ variables

### Deployment fail?
- Kiá»ƒm tra FTP credentials trong Secrets
- Äáº£m báº£o táº¥t cáº£ tests pass trÆ°á»›c khi deploy
- Kiá»ƒm tra file permissions trÃªn server

### Code quality issues?
- Cháº¡y `./vendor/bin/pint` Ä‘á»ƒ fix code style
- Kiá»ƒm tra PHPStan errors vÃ  fix logic issues
- Review security audit warnings

## ğŸ”„ Workflow Flow

```mermaid
graph TD
    A[Push to main/develop] --> B[Run Tests]
    A --> C[Code Quality Checks]
    B --> D{Tests Pass?}
    C --> E{Quality Pass?}
    D -->|Yes| F[Ready for Deploy]
    D -->|No| G[Block Deployment]
    E -->|Yes| F
    E -->|No| G
    F --> H[Deploy to Production]
    G --> I[Fix Issues]
    I --> A
```

---
*Generated by Laravel Learning Management System CI/CD Pipeline*